
## Memorize Game With MVVM Architecture

## Model

```swift
// MARK: MODEL

import Foundation

struct MemoryGame <CardContent> {
    var cards = [Card]()
    func chooseCard() {
    }
    init(pairOfIndexOfCard: Int, createCardContent: (Int) -> CardContent) {
				// card ë³€ìˆ˜ë¥¼ ì´ˆê¸°í™”
        cards = [Card]()
        // ì´ëª¨ì§€ë¥¼ ìŒìœ¼ë¡œ ë³´ì—¬ì¤„ ìˆ˜ ìˆë„ë¡ initialize ì‘ì—…ì„ ê±°ì¹¨
        for pairIndex in 0 ..< pairOfIndexOfCard {
            let content: CardContent = createCardContent(pairIndex)
            cards.append(Card(id: pairIndex * 2, content: content))
            cards.append(Card(id: pairIndex * 2 + 1, content: content))
        }
    }
    struct Card: Identifiable {
        var id: Int
        var isSelected: Bool = false
        var isMatched: Bool = false
        // Generic Type : Don't care Type
        var content: CardContent
    }
}
```

- Cardë¥¼ Nestedêµ¬ì¡°ì²´ë¥¼ ë§Œë“¦
- Card contentëŠ” Genericí•œ íƒ€ì…ì„ ì„¤ì •.
- ì¹´ë“œë¦¬ìŠ¤íŠ¸(cards)ì„ initialize í•˜ëŠ” ê³¼ì •ì—ì„œ ê° ì¹´ë“œì˜ ìŒì„ ë³´ì—¬ì¤„ ìˆë„ë¡ í•¨.

## View Model

```swift
// MARK: MODEL VIEW

import SwiftUI

class EmojiMemoryGame {
    static let emojis = ["ğŸ˜ˆ", "ğŸ˜", "ğŸ’«", "ğŸ‘»", "ğŸ‘¹", "ğŸ™‰", "â¤ï¸", "ğŸ’©", "ğŸ‘º", "ğŸ’›", "ğŸ’•", "ğŸ˜¬", "ğŸ˜", "ğŸ˜Š"]
    private(set) var model: MemoryGame<String> = MemoryGame(pairOfIndexOfCard: 4, createCardContent: {pairIndex in emojis[pairIndex]})
}
```

- ìƒìˆ˜ê°’ì„ staticìœ¼ë¡œ í• ë‹¹í•˜ì—¬ VMì•ˆì—ì„œ ì „ì—­ìœ¼ë¡œ ì‚¬ìš© ê°€ëŠ¥í•˜ê²Œí•¨.
- private(set)ìœ¼ë¡œ Viewì—ì„œëŠ” Modelì— ì§ì ‘ì ì¸ ì˜í–¥ì„ ì£¼ì§„ ëª»í•˜ê³  ëª¨ë¸ ë°ì´í„°ë¥¼ ì½ì„ ìˆ˜ ìˆìŒ

## View

```swift

import SwiftUI

struct ContentView: View {
    let modelView: EmojiMemoryGame
    var body: some View {
        VStack {
            LazyVGrid(columns: [GridItem(.flexible()), GridItem(.flexible()), GridItem(.flexible()), GridItem(.flexible())]) {
                ForEach(modelView.model.cards) { card in
                    CardView(card: card)
                }
            }
            Spacer()
        }
        .padding()
    }
}

struct CardView: View {
    var card: MemoryGame<String>.Card
    var body: some View {
        let shpae = RoundedRectangle(cornerRadius: 16)
        ZStack {
            shpae.foregroundColor(Color.white)
            shpae.strokeBorder(lineWidth: 3).foregroundColor(Color.red)
            Text(card.content)
        }
        .frame(height: 80)
    }
}

struct ContentView_Previews: PreviewProvider {
    static var previews: some View {
        ContentView(modelView: EmojiMemoryGame())
    }
}
```


